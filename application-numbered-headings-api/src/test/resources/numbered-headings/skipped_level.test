.runTransformations:macro,numberedheadings
.#-----------------------------------------------------
.input|xwiki/2.1
.# Test the numbering when an intermediate heading level is missing
.#-----------------------------------------------------
= level 1 =

=== level 3 ===

.#-----------------------------------------------------
.expect|xwiki/2.1
.#-----------------------------------------------------
= (% class="wikigeneratedheadingnumber" %)1 (%%)level 1 =

=== (% class="wikigeneratedheadingnumber" %)1.0.1 (%%)level 3 ===
.#-----------------------------------------------------
.expect|event/1.0
.#-----------------------------------------------------
beginDocument
beginSection
beginHeader [1, Hlevel1]
beginFormat [NONE] [[class]=[wikigeneratedheadingnumber]]
onWord [1]
onSpace
endFormat [NONE] [[class]=[wikigeneratedheadingnumber]]
onWord [level]
onSpace
onWord [1]
endHeader [1, Hlevel1]
beginSection
beginSection
beginHeader [3, Hlevel3]
beginFormat [NONE] [[class]=[wikigeneratedheadingnumber]]
onWord [1]
onSpecialSymbol [.]
onWord [0]
onSpecialSymbol [.]
onWord [1]
onSpace
endFormat [NONE] [[class]=[wikigeneratedheadingnumber]]
onWord [level]
onSpace
onWord [3]
endHeader [3, Hlevel3]
endSection
endSection
endSection
endDocument